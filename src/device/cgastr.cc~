/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\
 *                                 Technische Informatik II                                      *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *                                                                                               *
 *                                    C G A _ S T R E A M                                        *
 *                                                                                               *
\* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

#include "device/cgastr.h"

const int ROWS = 25;

/** \todo implementieren **/
void CGA_Stream::flush () {
  unsigned short x,y;
  for(int i=0; i<pos; i++){
    
    if(buf[i] == '\n'){
    
      getpos(x,y);
      x = 0;
      y++;
    
      if(y >= ROWS){
    
        y = ROWS-1;
        scrollup();
      }
    
      setpos(x,y);
    }

    print(buf+i, 1);
    
  }
  pos = 0; 
}

/** \todo implementieren **/
void CGA_Stream::setAttributes(int fgColor, int bgColor, bool blink, bool enableblink){
     CGA_Screen::setAttributes(    fgColor,     bgColor,      blink,      enableblink);
}
